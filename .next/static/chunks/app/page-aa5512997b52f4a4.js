(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2603:function(e,t,s){Promise.resolve().then(s.bind(s,9408))},9408:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return eR}});var a=s(7437),l=s(2265),r=s(9376),i=s(277),n=s(3448),o=s(2381);let d=i.fC;i.xz;let c=i.h_,x=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:t})});x.displayName=i.aV.displayName;let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(x,{}),(0,a.jsx)(i.VY,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l})]})});m.displayName=i.VY.displayName;let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};h.displayName="AlertDialogHeader";let u=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};u.displayName="AlertDialogFooter";let b=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold",s),...l})});b.displayName=i.Dx.displayName;let g=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...l})});g.displayName=i.dk.displayName;let f=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.aU,{ref:t,className:(0,n.cn)((0,o.d)(),s),...l})});f.displayName=i.aU.displayName;let j=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(i.$j,{ref:t,className:(0,n.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",s),...l})});j.displayName=i.$j.displayName;var p=s(3078),N=s(6418),v=s(4362),w=s(1259),y=s(4291),C=s(279),k=s(3675),S=s(5060),z=s(3340),_=e=>{let{isOpen:t,onClose:s}=e,{heroSettings:r,updateHeroSettings:i}=(0,N.u)(),{toast:n}=(0,z.pm)(),[d,c]=(0,l.useState)(r),[x,m]=(0,l.useState)(!1),h=async()=>{m(!0);try{await i(d),n({title:"Hero Section Updated",description:"Your changes have been saved to the database."}),s()}catch(e){}finally{m(!1)}},u=(e,t)=>{c(s=>{if(!e.startsWith("heading."))return{...s,[e]:t};{let a=e.split(".")[1];return{...s,heading:{...s.heading,[a]:t}}}})};return l.useEffect(()=>{c(r)},[r]),(0,a.jsx)(y.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(y.cZ,{className:"bg-slate-900 border-slate-700 text-white max-w-2xl",children:[(0,a.jsxs)(y.fK,{children:[(0,a.jsx)(y.$N,{className:"text-white",children:"Edit Hero Section"}),(0,a.jsx)(y.Be,{className:"text-slate-300",children:"Customize your hero section heading and description."})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(S._,{className:"text-sm font-medium text-white mb-3 block",children:"Heading"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(S._,{htmlFor:"heading1",className:"text-sm text-slate-300",children:"First Line"}),(0,a.jsx)(C.I,{id:"heading1",value:d.heading.line1,onChange:e=>u("heading.line1",e.target.value),placeholder:"e.g. Star Wars",className:"bg-slate-800 border-slate-600 text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S._,{htmlFor:"heading2",className:"text-sm text-slate-300",children:"Second Line"}),(0,a.jsx)(C.I,{id:"heading2",value:d.heading.line2,onChange:e=>u("heading.line2",e.target.value),placeholder:"e.g. Memorabilia",className:"bg-slate-800 border-slate-600 text-white"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S._,{htmlFor:"paragraph",className:"text-sm font-medium text-white mb-3 block",children:"Description"}),(0,a.jsx)(k.g,{id:"paragraph",value:d.paragraph,onChange:e=>u("paragraph",e.target.value),placeholder:"Enter your hero section description...",rows:4,className:"bg-slate-800 border-slate-600 text-white"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,a.jsx)(o.z,{variant:"outline",onClick:()=>{c(r),s()},disabled:x,className:"bg-slate-800 border-slate-600 text-white hover:bg-slate-700",children:"Cancel"}),(0,a.jsx)(o.z,{onClick:h,disabled:x,className:"bg-blue-600 hover:bg-blue-700 text-white",children:x?"Saving...":"Save Changes"})]})]})]})})},Z=s(2369),V=s(7692),I=s(9090),R=s(1817),E=e=>{let{open:t,onOpenChange:s}=e,{signIn:r}=(0,v.a)(),{toast:i}=(0,z.pm)(),[n,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)({email:"",password:""}),m=e=>e.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/),h=async e=>{e.preventDefault();let{email:t,password:a}=c;if(!t.trim()||!a){i({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}if(!m(t.trim())){i({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}if(a.length<6){i({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}d(!0);try{let e=await r(t.trim(),a);e.error?i({title:"Error",description:e.error.message||"Failed to sign in",variant:"destructive"}):(i({title:"Success",description:"Signed in successfully!"}),s(!1),x({email:"",password:""}))}catch(e){i({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{d(!1)}};return(0,a.jsx)(y.Vq,{open:t,onOpenChange:s,children:(0,a.jsxs)(y.cZ,{className:"bg-slate-900 border-slate-700 text-white max-w-md",children:[(0,a.jsx)(y.fK,{children:(0,a.jsx)(y.$N,{className:"text-white text-center",children:"Sign In"})}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(S._,{htmlFor:"email",className:"text-slate-300",children:"Email"}),(0,a.jsx)(C.I,{id:"email",type:"email",value:c.email,onChange:e=>x(t=>({...t,email:e.target.value})),className:"bg-slate-800 border-slate-600 text-white",placeholder:"Enter your email",disabled:n,required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(S._,{htmlFor:"password",className:"text-slate-300",children:"Password"}),(0,a.jsx)(C.I,{id:"password",type:"password",value:c.password,onChange:e=>x(t=>({...t,password:e.target.value})),className:"bg-slate-800 border-slate-600 text-white",placeholder:"Enter your password",disabled:n,required:!0})]}),(0,a.jsxs)(o.z,{type:"submit",disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[n?(0,a.jsx)(R.Z,{className:"w-4 h-4 animate-spin mr-2"}):null,"Sign In"]})]})]})})},F=s(9027),P=s(535),O=s(2489);let D=F.fC;F.xz;let L=F.x8,T=F.h_,$=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(F.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:t})});$.displayName=F.aV.displayName;let K=(0,P.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),q=l.forwardRef((e,t)=>{let{side:s="right",className:l,children:r,...i}=e;return(0,a.jsxs)(T,{children:[(0,a.jsx)($,{}),(0,a.jsxs)(F.VY,{ref:t,className:(0,n.cn)(K({side:s}),l),...i,children:[r,(0,a.jsxs)(F.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(O.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});q.displayName=F.VY.displayName;let A=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};A.displayName="SheetHeader";let H=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(F.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold text-foreground",s),...l})});H.displayName=F.Dx.displayName;let U=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(F.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...l})});U.displayName=F.dk.displayName;var M=s(3643);let W=l.forwardRef((e,t)=>{let{className:s,children:l,...r}=e;return(0,a.jsxs)(M.fC,{ref:t,className:(0,n.cn)("relative overflow-hidden",s),...r,children:[(0,a.jsx)(M.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,a.jsx)(Y,{}),(0,a.jsx)(M.Ns,{})]})});W.displayName=M.fC.displayName;let Y=l.forwardRef((e,t)=>{let{className:s,orientation:l="vertical",...r}=e;return(0,a.jsx)(M.gb,{ref:t,orientation:l,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:(0,a.jsx)(M.q4,{className:"relative flex-1 rounded-full bg-border"})})});Y.displayName=M.gb.displayName;var B=s(6595),G=s(7586),J=s(8997),Q=s(9232),X=s(525);let ee=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...l})})});ee.displayName="Table";let et=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...l})});et.displayName="TableHeader";let es=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...l})});es.displayName="TableBody",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...l})}).displayName="TableFooter";let ea=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...l})});ea.displayName="TableRow";let el=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...l})});el.displayName="TableHead";let er=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...l})});er.displayName="TableCell",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...l})}).displayName="TableCaption";var ei=s(7625);let en=e=>void 0!==e?"$"+e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"";var eo=e=>{let{open:t,onClose:s}=e,{items:l,categories:i}=(0,p.K)(),n=(0,r.useRouter)(),d=[...l].filter(e=>"Out of Stock"===e.stockStatus).sort((e,t)=>(t.valuation||0)-(e.valuation||0)),c=e=>i.find(t=>t.id===e),x=()=>{window.print()},m=e=>{s(),n.push("/item/".concat(e))};return(0,a.jsx)(y.Vq,{open:t,onOpenChange:e=>!e&&s(),children:(0,a.jsxs)(y.cZ,{className:"max-w-4xl bg-white border border-slate-300",children:[(0,a.jsx)(y.fK,{children:(0,a.jsxs)(y.$N,{className:"text-2xl font-bold flex flex-row items-center justify-between",children:[(0,a.jsxs)("span",{children:["Wishlist Report",(0,a.jsx)("span",{className:"text-base font-normal ml-6 text-slate-700",children:"Total Items:"}),(0,a.jsx)("span",{className:"font-bold text-indigo-700 ml-2 text-lg",children:d.length})]}),(0,a.jsx)(o.z,{variant:"ghost",size:"icon",onClick:x,className:"ml-3 print:hidden","aria-label":"Print report",children:(0,a.jsx)(ei.Z,{className:"w-5 h-5"})})]})}),(0,a.jsx)("div",{className:"overflow-auto max-h-[60vh] border rounded bg-white",children:(0,a.jsxs)(ee,{children:[(0,a.jsx)(et,{children:(0,a.jsxs)(ea,{children:[(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Image"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Item Name"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Category"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Manufacturer"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 text-right",children:"Estimated Value"})]})}),(0,a.jsx)(es,{children:d.map(e=>{let t=c(e.categoryId),s=e.images&&e.images.length>0?e.images[0]:e.image;return(0,a.jsxs)(ea,{className:"even:bg-slate-50 odd:bg-white",children:[(0,a.jsx)(er,{className:"text-slate-700 text-base font-medium",children:s&&(0,a.jsx)("img",{src:s,alt:e.name,className:"w-10 h-10 rounded object-cover border border-gray-200"})}),(0,a.jsx)(er,{className:"text-slate-800 text-base",children:(0,a.jsx)("button",{onClick:()=>m(e.id),className:"text-blue-600 hover:text-blue-800 underline cursor-pointer font-medium print:text-slate-800 print:no-underline",children:e.name})}),(0,a.jsx)(er,{className:"text-slate-700 text-base",children:(null==t?void 0:t.name)||"Unknown"}),(0,a.jsx)(er,{className:"text-slate-700 text-base",children:e.manufacturer||"Unknown"}),(0,a.jsx)(er,{className:"text-right text-slate-700 text-base font-medium",children:en(e.valuation)})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6 print:hidden",children:[(0,a.jsxs)(o.z,{onClick:x,variant:"outline",className:"border border-slate-600",children:[(0,a.jsx)(ei.Z,{className:"w-4 h-4 mr-2"}),"Print"]}),(0,a.jsx)(o.z,{onClick:s,variant:"default",children:"Close"})]})]})})};let ed=e=>void 0!==e?"$"+e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"";var ec=e=>{let{open:t,onClose:s}=e,{items:l}=(0,p.K)(),i=(0,r.useRouter)(),n=[...l].filter(e=>e.valuation&&e.valuation>0).sort((e,t)=>(t.valuation||0)-(e.valuation||0)).slice(0,10),d=()=>{window.print()},c=e=>{s(),i.push("/item/".concat(e))};return(0,a.jsx)(y.Vq,{open:t,onOpenChange:e=>!e&&s(),children:(0,a.jsxs)(y.cZ,{className:"max-w-4xl bg-white border border-slate-300",children:[(0,a.jsx)(y.fK,{children:(0,a.jsxs)(y.$N,{className:"text-2xl font-bold flex flex-row items-center justify-between",children:[(0,a.jsxs)("span",{children:["Top 10 Most Valuable Items",(0,a.jsx)("span",{className:"text-base font-normal ml-6 text-slate-700",children:"Total Items:"}),(0,a.jsx)("span",{className:"font-bold text-indigo-700 ml-2 text-lg",children:n.length})]}),(0,a.jsx)(o.z,{variant:"ghost",size:"icon",onClick:d,className:"ml-3 print:hidden","aria-label":"Print report",children:(0,a.jsx)(ei.Z,{className:"w-5 h-5"})})]})}),(0,a.jsx)("div",{className:"overflow-auto max-h-[60vh] border rounded bg-white",children:(0,a.jsxs)(ee,{children:[(0,a.jsx)(et,{children:(0,a.jsxs)(ea,{children:[(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Image"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Item Name"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Stock Status"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Manufacturer"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 text-right",children:"Estimated Value"})]})}),(0,a.jsx)(es,{children:n.map(e=>{let t=e.images&&e.images.length>0?e.images[0]:e.image;return(0,a.jsxs)(ea,{className:"even:bg-slate-50 odd:bg-white",children:[(0,a.jsx)(er,{className:"text-slate-700 text-base font-medium",children:t&&(0,a.jsx)("img",{src:t,alt:e.name,className:"w-10 h-10 rounded object-cover border border-gray-200"})}),(0,a.jsx)(er,{className:"text-slate-800 text-base",children:(0,a.jsx)("button",{onClick:()=>c(e.id),className:"text-blue-600 hover:text-blue-800 underline cursor-pointer font-medium print:text-slate-800 print:no-underline",children:e.name})}),(0,a.jsx)(er,{className:"text-slate-700 text-base",children:e.stockStatus}),(0,a.jsx)(er,{className:"text-slate-700 text-base",children:e.manufacturer||"Unknown"}),(0,a.jsx)(er,{className:"text-right text-slate-700 text-base font-medium",children:ed(e.valuation)})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6 print:hidden",children:[(0,a.jsxs)(o.z,{onClick:d,variant:"outline",className:"border border-slate-600",children:[(0,a.jsx)(ei.Z,{className:"w-4 h-4 mr-2"}),"Print"]}),(0,a.jsx)(o.z,{onClick:s,variant:"default",children:"Close"})]})]})})};let ex=e=>void 0!==e?"$"+e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"";var em=e=>{let{open:t,onClose:s}=e,{categories:l,items:i}=(0,p.K)(),n=(0,r.useRouter)(),d=l.map(e=>{let t=i.filter(t=>t.categoryId===e.id&&!!t.valuation&&"In Stock"===t.stockStatus).reduce((e,t)=>e+(t.valuation||0),0);return{id:e.id,name:e.name,sum:t}}).filter(e=>e.sum>0);d.sort((e,t)=>t.sum-e.sum);let c=d.reduce((e,t)=>e+t.sum,0),x=()=>{window.print()},m=e=>{s(),n.push("/category/".concat(e))};return(0,a.jsx)(y.Vq,{open:t,onOpenChange:e=>!e&&s(),children:(0,a.jsxs)(y.cZ,{className:"max-w-2xl bg-white border border-slate-300",children:[(0,a.jsx)(y.fK,{children:(0,a.jsxs)(y.$N,{className:"text-2xl font-bold flex flex-row items-center justify-between",children:[(0,a.jsxs)("span",{children:["Category SUMS",(0,a.jsx)("span",{className:"text-base font-normal ml-6 text-slate-700",children:"Entire Stock Valuation:"}),(0,a.jsx)("span",{className:"font-bold text-indigo-700 ml-2 text-lg",children:ex(c)})]}),(0,a.jsx)(o.z,{variant:"ghost",size:"icon",onClick:x,className:"ml-3 print:hidden","aria-label":"Print report",children:(0,a.jsx)(ei.Z,{className:"w-5 h-5"})})]})}),(0,a.jsx)("div",{className:"overflow-auto max-h-[60vh] border rounded bg-white",children:(0,a.jsxs)(ee,{children:[(0,a.jsx)(et,{children:(0,a.jsxs)(ea,{children:[(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 w-3/5",children:"Category"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 text-right w-2/5",children:"Total Estimated Value"})]})}),(0,a.jsx)(es,{children:d.map(e=>{let{id:t,name:s,sum:l}=e;return(0,a.jsxs)(ea,{className:"even:bg-slate-50 odd:bg-white",children:[(0,a.jsx)(er,{className:"text-slate-800 text-base",children:(0,a.jsx)("button",{onClick:()=>m(t),className:"text-blue-600 hover:text-blue-800 underline cursor-pointer font-medium print:text-slate-800 print:no-underline",children:s})}),(0,a.jsx)(er,{className:"text-right text-slate-700 text-base font-medium",children:ex(l)})]},s)})})]})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6 print:hidden",children:[(0,a.jsxs)(o.z,{onClick:x,variant:"outline",className:"border border-slate-600",children:[(0,a.jsx)(ei.Z,{className:"w-4 h-4 mr-2"}),"Print"]}),(0,a.jsx)(o.z,{onClick:s,variant:"default",children:"Close"})]})]})})};let eh=e=>void 0!==e?"$"+e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"";var eu=e=>{let{open:t,onClose:s}=e,{items:l}=(0,p.K)(),i=(0,r.useRouter)(),n=[...l].filter(e=>e.valuation&&e.valuation>0).sort((e,t)=>(e.valuation||0)-(t.valuation||0)).slice(0,10),d=()=>{window.print()},c=e=>{s(),i.push("/item/".concat(e))};return(0,a.jsx)(y.Vq,{open:t,onOpenChange:e=>!e&&s(),children:(0,a.jsxs)(y.cZ,{className:"max-w-4xl bg-white border border-slate-300",children:[(0,a.jsx)(y.fK,{children:(0,a.jsxs)(y.$N,{className:"text-2xl font-bold flex flex-row items-center justify-between",children:[(0,a.jsxs)("span",{children:["Least Valuable Items",(0,a.jsx)("span",{className:"text-base font-normal ml-6 text-slate-700",children:"Total Items:"}),(0,a.jsx)("span",{className:"font-bold text-indigo-700 ml-2 text-lg",children:n.length})]}),(0,a.jsx)(o.z,{variant:"ghost",size:"icon",onClick:d,className:"ml-3 print:hidden","aria-label":"Print report",children:(0,a.jsx)(ei.Z,{className:"w-5 h-5"})})]})}),(0,a.jsx)("div",{className:"overflow-auto max-h-[60vh] border rounded bg-white",children:(0,a.jsxs)(ee,{children:[(0,a.jsx)(et,{children:(0,a.jsxs)(ea,{children:[(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Image"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Item Name"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Stock Status"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Manufacturer"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 text-right",children:"Estimated Value"})]})}),(0,a.jsx)(es,{children:n.map(e=>{let t=e.images&&e.images.length>0?e.images[0]:e.image;return(0,a.jsxs)(ea,{className:"even:bg-slate-50 odd:bg-white",children:[(0,a.jsx)(er,{className:"text-slate-700 text-base font-medium",children:t&&(0,a.jsx)("img",{src:t,alt:e.name,className:"w-10 h-10 rounded object-cover border border-gray-200"})}),(0,a.jsx)(er,{className:"text-slate-800 text-base",children:(0,a.jsx)("button",{onClick:()=>c(e.id),className:"text-blue-600 hover:text-blue-800 underline cursor-pointer font-medium print:text-slate-800 print:no-underline",children:e.name})}),(0,a.jsx)(er,{className:"text-slate-700 text-base",children:e.stockStatus}),(0,a.jsx)(er,{className:"text-slate-700 text-base",children:e.manufacturer||"Unknown"}),(0,a.jsx)(er,{className:"text-right text-slate-700 text-base font-medium",children:eh(e.valuation)})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6 print:hidden",children:[(0,a.jsxs)(o.z,{onClick:d,variant:"outline",className:"border border-slate-600",children:[(0,a.jsx)(ei.Z,{className:"w-4 h-4 mr-2"}),"Print"]}),(0,a.jsx)(o.z,{onClick:s,variant:"default",children:"Close"})]})]})})};let eb=e=>void 0!==e?"$"+e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",eg=e=>e.toFixed(1)+"%";var ef=e=>{let{open:t,onClose:s}=e,{items:l,categories:i}=(0,p.K)(),n=(0,r.useRouter)(),d=l.filter(e=>"In Stock"===e.stockStatus&&void 0!==e.boughtFor&&void 0!==e.valuation&&e.boughtFor>0&&e.valuation>0),c=d.reduce((e,t)=>e+(t.boughtFor||0),0),x=d.reduce((e,t)=>e+(t.valuation||0),0),m=x-c,h=c>0?m/c*100:0,u=d.reduce((e,t)=>{let s=i.find(e=>e.id===t.categoryId),a=(null==s?void 0:s.name)||"Uncategorized";e[a]||(e[a]=[]);let l=t.boughtFor||0,r=t.valuation||0,n=r-l;return e[a].push({id:t.id,name:t.name,boughtFor:l,valuation:r,profit:n,profitPercentage:l>0?n/l*100:0}),e},{});Object.keys(u).forEach(e=>{u[e].sort((e,t)=>t.profitPercentage-e.profitPercentage)});let b=Object.keys(u).sort((e,t)=>{let s=u[e].reduce((e,t)=>e+t.valuation,0);return u[t].reduce((e,t)=>e+t.valuation,0)-s}),g=()=>{window.print()},f=e=>{s(),n.push("/item/".concat(e))};return(0,a.jsx)(y.Vq,{open:t,onOpenChange:e=>!e&&s(),children:(0,a.jsxs)(y.cZ,{className:"max-w-4xl bg-white border border-slate-300",children:[(0,a.jsx)(y.fK,{children:(0,a.jsxs)(y.$N,{className:"text-2xl font-bold flex flex-row items-center justify-between",children:[(0,a.jsxs)("span",{children:["Valuation Report",(0,a.jsx)("span",{className:"text-base font-normal ml-6 text-slate-700",children:"Total Items:"}),(0,a.jsx)("span",{className:"font-bold text-indigo-700 ml-2 text-lg",children:d.length})]}),(0,a.jsx)(o.z,{variant:"ghost",size:"icon",onClick:g,className:"ml-3 print:hidden","aria-label":"Print report",children:(0,a.jsx)(ei.Z,{className:"w-5 h-5"})})]})}),(0,a.jsx)("div",{className:"bg-slate-50 p-4 rounded-lg border mb-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Total Purchases"}),(0,a.jsx)("div",{className:"text-lg font-bold text-slate-800",children:eb(c)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Valuation"}),(0,a.jsx)("div",{className:"text-lg font-bold text-blue-700",children:eb(x)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Total Profit"}),(0,a.jsx)("div",{className:"text-lg font-bold ".concat(m>=0?"text-green-600":"text-red-600"),children:eb(m)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Profit %"}),(0,a.jsx)("div",{className:"text-lg font-bold ".concat(h>=0?"text-green-600":"text-red-600"),children:eg(h)})]})]})}),(0,a.jsx)("div",{className:"overflow-auto max-h-[50vh] space-y-6",children:b.map(e=>{let t=u[e],s=t.reduce((e,t)=>e+t.valuation,0);return(0,a.jsxs)("div",{className:"border rounded bg-white",children:[(0,a.jsx)("div",{className:"bg-slate-100 px-4 py-3 border-b",children:(0,a.jsxs)("h3",{className:"text-lg font-semibold text-slate-800 flex justify-between items-center",children:[(0,a.jsx)("span",{children:e}),(0,a.jsx)("span",{className:"text-blue-700",children:eb(s)})]})}),(0,a.jsxs)(ee,{children:[(0,a.jsx)(et,{children:(0,a.jsxs)(ea,{children:[(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800",children:"Item Name"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 text-right",children:"Bought For"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 text-right",children:"Valuation"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 text-right",children:"Profit"}),(0,a.jsx)(el,{className:"text-base font-semibold text-slate-800 text-right",children:"Profit %"})]})}),(0,a.jsx)(es,{children:t.map((e,t)=>(0,a.jsxs)(ea,{className:"even:bg-slate-50 odd:bg-white",children:[(0,a.jsx)(er,{className:"text-slate-800 text-base",children:(0,a.jsx)("button",{onClick:()=>f(e.id),className:"text-blue-600 hover:text-blue-800 underline cursor-pointer font-medium print:text-slate-800 print:no-underline",children:e.name})}),(0,a.jsx)(er,{className:"text-right text-slate-700 text-base",children:eb(e.boughtFor)}),(0,a.jsx)(er,{className:"text-right text-blue-700 text-base font-medium",children:eb(e.valuation)}),(0,a.jsx)(er,{className:"text-right text-base font-medium ".concat(e.profit>=0?"text-green-600":"text-red-600"),children:eb(e.profit)}),(0,a.jsx)(er,{className:"text-right text-base font-bold ".concat(e.profitPercentage>=0?"text-green-600":"text-red-600"),children:eg(e.profitPercentage)})]},t))})]})]},e)})}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6 print:hidden",children:[(0,a.jsxs)(o.z,{onClick:g,variant:"outline",className:"border border-slate-600",children:[(0,a.jsx)(ei.Z,{className:"w-4 h-4 mr-2"}),"Print"]}),(0,a.jsx)(o.z,{onClick:s,variant:"default",children:"Close"})]})]})})};let ej=[{label:"Top 10",icon:B.Z,link:"#top-10"},{label:"Least Value Items",icon:G.Z,link:"#least-value"},{label:"Wishlist",icon:J.Z,link:"#wishlist"},{label:"Group Valuation",icon:Q.Z,link:"#group-valuation"},{label:"Valuation Report",icon:X.Z,link:"#valuation-report"}];var ep=e=>{let{open:t,onOpenChange:s}=e,[r,i]=(0,l.useState)(!1),[n,d]=(0,l.useState)(!1),[c,x]=(0,l.useState)(!1),[m,h]=(0,l.useState)(!1),[u,b]=(0,l.useState)(!1),g=e=>{"Group Valuation"===e.label?i(!0):"Wishlist"===e.label?d(!0):"Top 10"===e.label?x(!0):"Least Value Items"===e.label?h(!0):"Valuation Report"===e.label?b(!0):s(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D,{open:t,onOpenChange:s,children:(0,a.jsxs)(q,{side:"right",className:"max-w-md w-full bg-background border-l border-slate-700 px-0 flex flex-col",children:[(0,a.jsxs)(A,{className:"px-4 flex-shrink-0",children:[(0,a.jsx)(H,{className:"text-center text-2xl font-bold",children:"Admin"}),(0,a.jsx)(U,{className:"text-center mb-4 text-base text-slate-400",children:"Choose an admin report or quick overview."})]}),(0,a.jsx)(W,{className:"flex-1 px-4",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pb-4",children:ej.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>g(e),className:"group bg-slate-800/95 border border-slate-600 rounded-lg flex flex-col items-center py-8 px-4 hover:bg-blue-950 hover:border-blue-500 transition-all shadow cursor-pointer focus:outline-none",children:[(0,a.jsx)(e.icon,{className:"w-10 h-10 text-blue-400 mb-3 group-hover:scale-110 transition-transform"}),(0,a.jsx)("span",{className:"font-semibold text-lg text-white text-center group-hover:text-blue-300",children:e.label})]},e.label))})}),(0,a.jsx)("div",{className:"px-4 pb-4 flex-shrink-0",children:(0,a.jsx)(L,{asChild:!0,children:(0,a.jsx)(o.z,{className:"w-full bg-slate-900 hover:bg-slate-800 border border-slate-600 text-white",children:"Close"})})})]})}),(0,a.jsx)(ec,{open:c,onClose:()=>{x(!1),s(!1)}}),(0,a.jsx)(eo,{open:n,onClose:()=>{d(!1),s(!1)}}),(0,a.jsx)(em,{open:r,onClose:()=>{i(!1),s(!1)}}),(0,a.jsx)(eu,{open:m,onClose:()=>{h(!1),s(!1)}}),(0,a.jsx)(ef,{open:u,onClose:()=>{b(!1),s(!1)}})]})},eN=e=>{let{totalPublished:t,totalInStock:s}=e,{user:r,signOut:i,loading:n}=(0,v.a)(),[d,c]=(0,l.useState)(!1),[x,m]=(0,l.useState)(!1),h=async()=>{await i()};return n?(0,a.jsx)("div",{className:"w-full bg-black text-white flex items-center justify-center px-4 py-2 border-b border-slate-700",children:(0,a.jsx)("span",{className:"text-sm",children:"Loading..."})}):(0,a.jsxs)("div",{className:"w-full bg-black text-white flex flex-col md:flex-row md:items-center md:justify-between px-4 py-2 gap-2 md:gap-4 border-b border-slate-700",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-4",children:[(0,a.jsxs)("span",{className:"text-sm font-bold flex items-center",children:[(0,a.jsx)("span",{className:"bg-red-700 px-2 py-1 rounded mr-1",children:t}),"Items published"]}),(0,a.jsxs)("span",{className:"text-sm font-bold flex items-center",children:[(0,a.jsx)("span",{className:"bg-orange-600 px-2 py-1 rounded mr-1",children:s}),"items in stock and growing"]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(Z.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:r.email})]}),(0,a.jsx)(o.z,{className:"bg-gray-900 hover:bg-gray-700 border border-slate-500 text-white text-sm px-4 py-1 h-auto rounded",size:"sm",onClick:()=>m(!0),type:"button",children:"Admin"}),(0,a.jsxs)(o.z,{className:"bg-red-600 hover:bg-red-700 border border-red-500 text-white text-sm px-4 py-1 h-auto rounded",size:"sm",onClick:h,type:"button",children:[(0,a.jsx)(V.Z,{className:"w-4 h-4 mr-1"}),"Sign Out"]})]}):(0,a.jsxs)(o.z,{className:"bg-blue-600 hover:bg-blue-700 border border-blue-500 text-white text-sm px-4 py-1 h-auto rounded",size:"sm",onClick:()=>c(!0),type:"button",children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 mr-1"}),"Sign In"]})}),(0,a.jsx)(E,{open:d,onOpenChange:c}),r&&(0,a.jsx)(ep,{open:x,onOpenChange:m})]})},ev=s(2207),ew=s(8906),ey=s(5565),eC=s(9397),ek=e=>{let{onEditHero:t,onAddCategory:s}=e,{heroSettings:l}=(0,N.u)(),{user:r}=(0,v.a)();return(0,a.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 border-b border-slate-700",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1470813740244-df37b8c1edcb?w=1920&h=1080&fit=crop')] bg-cover bg-center opacity-10"}),r&&(0,a.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,a.jsxs)(o.z,{onClick:t,variant:"outline",size:"sm",className:"bg-slate-800/80 border-slate-600 text-white hover:bg-slate-700/80",children:[(0,a.jsx)(ev.Z,{className:"w-4 h-4 mr-2"}),"Edit Hero Section"]})}),(0,a.jsx)("div",{className:"relative container mx-auto px-6 py-20",children:(0,a.jsxs)("div",{className:"text-center max-w-4xl mx-auto",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 text-blue-400",children:[(0,a.jsx)(B.Z,{className:"w-8 h-8"}),(0,a.jsx)(ew.Z,{className:"w-10 h-10"}),(0,a.jsx)(ey.Z,{className:"w-8 h-8"})]})}),(0,a.jsxs)("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 tracking-tight",children:[l.heading.line1,(0,a.jsx)("span",{className:"block text-blue-400 mt-2",children:l.heading.line2})]}),(0,a.jsx)("p",{className:"text-xl md:text-2xl text-slate-300 mb-8 leading-relaxed",children:l.paragraph}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:r&&(0,a.jsxs)(o.z,{onClick:s,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 text-lg",children:[(0,a.jsx)(eC.Z,{className:"w-5 h-5 mr-2"}),"Add New Category"]})})]})})]})},eS=s(3247),ez=e=>{let{placeholder:t="Search items...",className:s=""}=e,{items:i}=(0,p.K)(),n=(0,r.useRouter)(),[d,c]=(0,l.useState)(""),[x,m]=(0,l.useState)(!1),[h,u]=(0,l.useState)([]),b=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(""===d.trim()){u([]);return}u(i.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())||e.description&&e.description.toLowerCase().includes(d.toLowerCase())||e.manufacturer&&e.manufacturer.toLowerCase().includes(d.toLowerCase())).slice(0,10))},[d,i]),(0,l.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let g=e=>{c(""),m(!1),n.push("/item/".concat(e))};return(0,a.jsxs)("div",{className:"relative ".concat(s),ref:b,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eS.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,a.jsx)(C.I,{type:"text",placeholder:t,value:d,onChange:e=>{c(e.target.value),m(!0)},onFocus:()=>m(!0),className:"pl-10 pr-10"}),d&&(0,a.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>{c(""),u([]),m(!1)},className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",children:(0,a.jsx)(O.Z,{className:"h-4 w-4"})})]}),x&&h.length>0&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.map(e=>{let t=e.images&&e.images.length>0?e.images[0]:e.image;return(0,a.jsxs)("div",{onClick:()=>g(e.id),className:"flex items-center gap-3 px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",children:[t&&(0,a.jsx)("img",{src:t,alt:e.name,className:"w-8 h-8 rounded object-cover border border-gray-200 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),e.manufacturer&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Manufacturer: ",e.manufacturer]}),e.description&&(0,a.jsx)("div",{className:"text-sm text-gray-500 truncate",children:e.description})]})]},e.id)})}),x&&d&&0===h.length&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-lg",children:(0,a.jsx)("div",{className:"px-4 py-2 text-gray-500",children:"No items found"})})]})},e_=e=>{let{groupValuationCategories:t,selectedValCategory:s,onValCategorySelect:l}=e;return(0,a.jsx)("div",{className:"bg-slate-900 border-b border-slate-700 py-8",children:(0,a.jsx)("div",{className:"container mx-auto px-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white text-center mb-6 hidden lg:block",children:"Search By"}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-center",children:[(0,a.jsx)("div",{className:"w-full lg:w-[480px]",children:(0,a.jsx)(ez,{})}),(0,a.jsx)("div",{className:"w-full lg:w-[480px]",children:(0,a.jsxs)("select",{id:"category-select",className:"bg-slate-800 text-white rounded px-3 py-2 text-sm w-full border border-slate-600 focus:border-blue-500 focus:outline-none",value:s||"__placeholder__",onChange:l,children:[(0,a.jsx)("option",{value:"__placeholder__",children:"----Search By Category----"}),t.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})})]})]})})})},eZ=s(7067),eV=e=>{let{onAddCategory:t}=e,{user:s}=(0,v.a)();return(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsxs)("div",{className:"text-slate-400 mb-8",children:[(0,a.jsx)("div",{className:"w-32 h-32 mx-auto mb-6 bg-slate-800 rounded-full flex items-center justify-center",children:(0,a.jsx)(ew.Z,{className:"w-12 h-12"})}),(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-white",children:"Start Your Collection"}),(0,a.jsx)("p",{className:"text-lg text-slate-500 mb-8 max-w-md mx-auto",children:"Begin organizing your Star Wars memorabilia by creating your first category."})]}),s&&(0,a.jsxs)(o.z,{onClick:t,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4",children:[(0,a.jsx)(eC.Z,{className:"w-5 h-5 mr-2"}),"Create First Category"]})]})},eI=e=>{let{categories:t,onAddCategory:s,onEdit:l,onDelete:r,onView:i}=e,{user:n}=(0,v.a)();return(0,a.jsxs)("div",{className:"container mx-auto px-6 py-16",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-12",children:[(0,a.jsxs)("div",{className:"mb-6 md:mb-0",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Collection Categories"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Organize your memorabilia by era, type, and significance"})]}),n&&(0,a.jsxs)(o.z,{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white md:ml-auto",children:[(0,a.jsx)(eC.Z,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),0===t.length?(0,a.jsx)(eV,{onAddCategory:s}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:t.map(e=>(0,a.jsx)(eZ.Z,{category:e,onEdit:l,onDelete:r,onView:i,showActions:!!n},e.id))})]})};function eR(){let e=(0,r.useRouter)(),{categories:t,items:s,deleteCategory:i,addCategory:n,updateCategory:o}=(0,p.K)(),{loading:c}=(0,N.u)(),{user:x}=(0,v.a)(),[y,C]=(0,l.useState)(!1),[k,S]=(0,l.useState)(null),[z,Z]=(0,l.useState)(!1),[V,I]=(0,l.useState)(""),[R,E]=(0,l.useState)(""),[F,P]=(0,l.useState)(!1),[O,D]=(0,l.useState)(!1),L=t.filter(e=>!e.parentId),T=s.length,$=s.filter(e=>"In Stock"===e.stockStatus).length,K=t.filter(e=>s.some(t=>t.categoryId===e.id&&"In Stock"===t.stockStatus&&"number"==typeof t.valuation&&t.valuation>0));K.sort((e,t)=>e.name.localeCompare(t.name));let q=()=>{C(!0)};return c?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-slate-900 to-black flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white",children:"Loading..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black via-slate-900 to-black",children:[(0,a.jsx)(eN,{totalPublished:T,totalInStock:$}),(0,a.jsx)(ek,{onEditHero:()=>{D(!0)},onAddCategory:q}),(0,a.jsx)(e_,{groupValuationCategories:K,selectedValCategory:R,onValCategorySelect:t=>{let s=t.target.value;E(s),s&&"__placeholder__"!==s&&e.push("/category/".concat(s))}}),(0,a.jsx)(eI,{categories:L,onAddCategory:q,onEdit:e=>{S(e),C(!0)},onDelete:e=>{I(e),Z(!0)},onView:t=>{e.push("/category/".concat(t))}}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.Z,{isOpen:y,onClose:()=>{C(!1),S(null)},onSave:e=>{k?o(k.id,e):n(e),S(null)},category:k}),(0,a.jsx)(_,{isOpen:O,onClose:()=>D(!1)})]}),x&&(0,a.jsx)(d,{open:z,onOpenChange:Z,children:(0,a.jsxs)(m,{className:"bg-slate-900 border-slate-700 text-white",children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(b,{className:"text-white",children:"Delete Category"}),(0,a.jsx)(g,{className:"text-slate-300",children:"Are you sure you want to delete this category? This action cannot be undone."})]}),(0,a.jsxs)(u,{children:[(0,a.jsx)(j,{className:"bg-slate-800 border-slate-600 text-white hover:bg-slate-700",children:"No"}),(0,a.jsx)(f,{onClick:()=>{i(V),Z(!1),I("")},className:"bg-red-600 hover:bg-red-700 text-white",children:"Yes"})]})]})}),(0,a.jsx)(ep,{open:F,onOpenChange:P})]})}},6418:function(e,t,s){"use strict";s.d(t,{u:function(){return c},y:function(){return d}});var a=s(7437),l=s(2265),r=s(1072),i=s(4362);let n={heading:{line1:"Star Wars",line2:"Memorabilia"},paragraph:"Your ultimate collection management system for a galaxy far, far away. Organize, catalog, and treasure your Star Wars collectibles."},o=(0,l.createContext)(void 0),d=e=>{let{children:t}=e,[s,d]=(0,l.useState)(n),[c,x]=(0,l.useState)(!0),{user:m}=(0,i.a)();(0,l.useEffect)(()=>{h()},[m]);let h=async()=>{try{let{data:e,error:t}=await r.O.from("hero_settings").select("*").limit(1);if(t)d(n);else if(e&&e.length>0){let t=e[0];d({heading:{line1:t.heading_line1,line2:t.heading_line2},paragraph:t.paragraph})}else d(n)}catch(e){d(n)}finally{x(!1)}},u=async e=>{let t;if(!m)throw Error("User must be authenticated to update hero settings");let{data:s}=await r.O.from("hero_settings").select("id").eq("user_id",m.id).limit(1),a={heading_line1:e.heading.line1,heading_line2:e.heading.line2,paragraph:e.paragraph,user_id:m.id,updated_at:new Date().toISOString()};if((t=s&&s.length>0?await r.O.from("hero_settings").update(a).eq("id",s[0].id):await r.O.from("hero_settings").insert([a])).error)throw t.error;d(e)};return(0,a.jsx)(o.Provider,{value:{heroSettings:s,updateHeroSettings:u,loading:c},children:t})},c=()=>{let e=(0,l.useContext)(o);if(void 0===e)throw Error("useHero must be used within a HeroProvider");return e}}},function(e){e.O(0,[203,321,657,617,115,111,971,117,744],function(){return e(e.s=2603)}),_N_E=e.O()}]);