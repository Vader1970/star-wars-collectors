"use strict";exports.id=873,exports.ids=[873],exports.modules={2714:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(2881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7506:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(2881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3855:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9508:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(2881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},8091:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(2881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3685:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(2881).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},8235:(e,a,t)=>{t.d(a,{Z:()=>n});var s=t(326);t(7577);var r=t(9752),l=t(1664),o=t(2714),i=t(9508),d=t(8091);let n=({category:e,onEdit:a,onDelete:t,onView:n,showActions:c=!0})=>(0,s.jsxs)(r.Zb,{className:"group hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border-slate-700 hover:border-blue-500/50 overflow-hidden",children:[(0,s.jsxs)("div",{className:"relative overflow-hidden",children:[s.jsx("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,s.jsxs)(r.aY,{className:"p-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-blue-400 transition-colors",children:e.name}),e.description&&s.jsx("p",{className:"text-slate-300 text-sm line-clamp-2",children:e.description})]}),(0,s.jsxs)(r.eW,{className:"p-4 pt-0 flex gap-2",children:[(0,s.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>n(e.id),className:"flex-1 bg-blue-600/10 border-blue-500/30 text-blue-400 hover:bg-blue-600/20 hover:border-blue-400",children:[s.jsx(o.Z,{className:"w-4 h-4 mr-1"}),"View"]}),c&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>a(e),className:"bg-yellow-600/10 border-yellow-500/30 text-yellow-400 hover:bg-yellow-600/20 hover:border-yellow-400",children:s.jsx(i.Z,{className:"w-4 h-4"})}),s.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>t(e.id),className:"bg-red-600/10 border-red-500/30 text-red-400 hover:bg-red-600/20 hover:border-red-400",children:s.jsx(d.Z,{className:"w-4 h-4"})})]})]})]})},3906:(e,a,t)=>{t.d(a,{Z:()=>f});var s=t(326),r=t(7577),l=t(4118),o=t(1664),i=t(1190),d=t(2015),n=t(7299),c=t(7506),m=t(4019),p=t(3685),u=t(6522),x=t(4097);let f=({isOpen:e,onClose:a,onSave:t,category:f,parentId:g})=>{let[h,b]=(0,r.useState)({name:"",description:"",image:"",parentId:g||""}),[v,y]=(0,r.useState)(null),[N,j]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),{toast:C}=(0,x.pm)();(0,r.useEffect)(()=>{f?(b({name:f.name,description:f.description||"",image:f.image||"",parentId:f.parentId||g||""}),j(f.image||"")):(b({name:"",description:"",image:"",parentId:g||""}),j("")),y(null)},[f,g]);let Z=async e=>{let a=e.target.files?.[0];if(!a)return;let t=new FileReader;t.onload=e=>{j(e.target?.result)},t.readAsDataURL(a),y(a),k(!0);try{let e=await (0,u.I)(a);b(a=>({...a,image:e})),C({title:"Success",description:"Image uploaded successfully"})}catch(e){}finally{k(!1)}};return s.jsx(l.Vq,{open:e,onOpenChange:a,children:(0,s.jsxs)(l.cZ,{className:"bg-slate-900 border-slate-700 text-white max-w-md",children:[s.jsx(l.fK,{children:s.jsx(l.$N,{className:"text-xl font-bold text-blue-400",children:f?"Edit Category":"Add New Category"})}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h.name.trim()&&(t({name:h.name.trim(),description:h.description.trim()||void 0,image:h.image||void 0,parentId:h.parentId||void 0}),b({name:"",description:"",image:"",parentId:""}),y(null),j(""),a())},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx(n._,{htmlFor:"name",className:"text-slate-300",children:"Category Name"}),s.jsx(i.I,{id:"name",value:h.name,onChange:e=>b(a=>({...a,name:e.target.value})),className:"bg-slate-800 border-slate-600 text-white focus:border-blue-500",placeholder:"Enter category name",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx(n._,{htmlFor:"description",className:"text-slate-300",children:"Description (Optional)"}),s.jsx(d.g,{id:"description",value:h.description,onChange:e=>b(a=>({...a,description:e.target.value})),className:"bg-slate-800 border-slate-600 text-white focus:border-blue-500 resize-none",placeholder:"Enter category description",rows:3})]}),(0,s.jsxs)("div",{children:[s.jsx(n._,{className:"text-slate-300",children:"Category Image (Optional)"}),s.jsx("div",{className:"mt-2",children:N?(0,s.jsxs)("div",{className:"relative",children:[s.jsx("img",{src:N,alt:"Category preview",className:"w-full h-32 object-cover rounded-lg border border-slate-600"}),w&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-lg",children:s.jsx(c.Z,{className:"w-6 h-6 animate-spin text-blue-400"})}),s.jsx(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{y(null),j(""),b(e=>({...e,image:""}))},disabled:w,className:"absolute top-2 right-2 bg-red-600/80 border-red-500 text-white hover:bg-red-700",children:s.jsx(m.Z,{className:"w-4 h-4"})})]}):(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:Z,disabled:w,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"image-upload"}),s.jsx(o.z,{type:"button",variant:"outline",disabled:w,className:"w-full bg-slate-800 border-slate-600 text-slate-300 hover:bg-slate-700 hover:text-white border-dashed h-24",asChild:!0,children:(0,s.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center justify-center gap-2",children:[w?s.jsx(c.Z,{className:"w-6 h-6 animate-spin"}):s.jsx(p.Z,{className:"w-6 h-6"}),s.jsx("span",{children:w?"Uploading...":"Upload Image"})]})})]})})]}),(0,s.jsxs)(l.cN,{className:"flex gap-2",children:[s.jsx(o.z,{type:"button",variant:"outline",onClick:a,className:"border-slate-600 text-slate-300 hover:bg-slate-800",children:"Cancel"}),(0,s.jsxs)(o.z,{type:"submit",disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[f?"Update":"Create"," Category"]})]})]})]})})}},9752:(e,a,t)=>{t.d(a,{Ol:()=>i,Zb:()=>o,aY:()=>n,eW:()=>c,ll:()=>d});var s=t(326),r=t(7577),l=t(1223);let o=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));o.displayName="Card";let i=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let d=r.forwardRef(({className:e,...a},t)=>s.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));d.displayName="CardTitle",r.forwardRef(({className:e,...a},t)=>s.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...a})).displayName="CardDescription";let n=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...a}));n.displayName="CardContent";let c=r.forwardRef(({className:e,...a},t)=>s.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a}));c.displayName="CardFooter"},4118:(e,a,t)=>{t.d(a,{$N:()=>x,Be:()=>f,Vq:()=>d,cN:()=>u,cZ:()=>m,fK:()=>p});var s=t(326),r=t(7577),l=t(8958),o=t(4019),i=t(1223);let d=l.fC;l.xz;let n=l.h_;l.x8;let c=r.forwardRef(({className:e,...a},t)=>s.jsx(l.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));c.displayName=l.aV.displayName;let m=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(n,{children:[s.jsx(c,{}),(0,s.jsxs)(l.VY,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(o.Z,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.VY.displayName;let p=({className:e,...a})=>s.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});p.displayName="DialogHeader";let u=({className:e,...a})=>s.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});u.displayName="DialogFooter";let x=r.forwardRef(({className:e,...a},t)=>s.jsx(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));x.displayName=l.Dx.displayName;let f=r.forwardRef(({className:e,...a},t)=>s.jsx(l.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...a}));f.displayName=l.dk.displayName},1190:(e,a,t)=>{t.d(a,{I:()=>o});var s=t(326),r=t(7577),l=t(1223);let o=r.forwardRef(({className:e,type:a,...t},r)=>s.jsx("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));o.displayName="Input"},7299:(e,a,t)=>{t.d(a,{_:()=>c});var s=t(326),r=t(7577),l=t(5226),o=r.forwardRef((e,a)=>(0,s.jsx)(l.WV.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));o.displayName="Label";var i=t(9360),d=t(1223);let n=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...a},t)=>s.jsx(o,{ref:t,className:(0,d.cn)(n(),e),...a}));c.displayName=o.displayName},2015:(e,a,t)=>{t.d(a,{g:()=>o});var s=t(326),r=t(7577),l=t(1223);let o=r.forwardRef(({className:e,...a},t)=>s.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));o.displayName="Textarea"},6522:(e,a,t)=>{t.d(a,{I:()=>r,o:()=>l});var s=t(9258);let r=async e=>{let a=new FormData;a.append("file",e);let{data:t,error:r}=await s.O.functions.invoke("upload-to-cloudflare",{body:a});if(r)throw Error("Supabase function error");if(!t.success){if(t.error)throw Error(t.error);throw Error("Failed to upload image")}return t.imageUrl},l=(e,a)=>{let t=e.split(","),s=t[0].match(/:(.*?);/)?.[1]||"image/jpeg",r=atob(t[1]),l=r.length,o=new Uint8Array(l);for(;l--;)o[l]=r.charCodeAt(l);return new File([o],a,{type:s})}},7125:(e,a,t)=>{t.d(a,{u:()=>s});function s(e,[a,t]){return Math.min(t,Math.max(a,e))}},7124:(e,a,t)=>{t.d(a,{gm:()=>l});var s=t(7577);t(326);var r=s.createContext(void 0);function l(e){let a=s.useContext(r);return e||a||"ltr"}}};